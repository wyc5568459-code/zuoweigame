:root {
  --bg: #0b1220;
  --panel: #111c32;
  --panel-2: #17233f;
  --text: #dbe7ff;
  --muted: #91a4cf;
  --accent: #5cc8ff;
  --gold: #ffd166;
  --ok: #5be37d;
  --danger: #ff6b6b;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
  background: radial-gradient(circle at top, #1b2b50, var(--bg));
  color: var(--text);
}
.app { max-width: 1280px; margin: 0 auto; padding: 16px; display: grid; gap: 12px; }
.card {
  background: linear-gradient(160deg, rgba(23,35,63,.95), rgba(17,28,50,.95));
  border: 1px solid rgba(140,170,230,.25);
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(2,8,20,.35);
  padding: 12px;
}
.top-panel h1 { margin: 0 0 8px; font-size: 1.6rem; }
.stats { display: grid; grid-template-columns: repeat(6, minmax(90px, 1fr)); gap: 8px; font-size: .95rem; }
.stats div { background: rgba(255,255,255,.04); border-radius: 10px; padding: 8px; }
.stats strong { color: var(--gold); }
.actions { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
button {
  background: #223457;
  color: var(--text);
  border: 1px solid #3f5686;
  border-radius: 10px;
  padding: 8px 12px;
  cursor: pointer;
  transition: .2s;
}
button:hover { transform: translateY(-1px); background: #2d4675; }
button.primary { background: #226ea7; border-color: #48b2ff; }
button.danger { background: #8f2f4b; border-color: #cc5b78; }
.phase { margin-top: 8px; color: var(--accent); font-weight: 700; }

.layout { display: grid; grid-template-columns: 2fr 1fr; gap: 12px; }
.grid { display: grid; gap: 8px; }
.board-grid { grid-template-columns: repeat(4, minmax(70px, 1fr)); min-height: 260px; }
.bench-grid { grid-template-columns: repeat(8, minmax(80px, 1fr)); }
.cell {
  min-height: 72px;
  background: rgba(255,255,255,.04);
  border: 1px dashed rgba(145,164,207,.45);
  border-radius: 10px;
  padding: 4px;
  transition: border-color .2s, box-shadow .2s;
}
.cell.highlight { border-color: var(--accent); box-shadow: 0 0 0 2px rgba(92,200,255,.35) inset; }

.unit {
  position: relative;
  height: 100%;
  border-radius: 8px;
  padding: 4px;
  border: 1px solid rgba(255,255,255,.2);
  background: linear-gradient(145deg, rgba(95,133,214,.3), rgba(73,103,171,.18));
  font-size: 12px;
  cursor: pointer;
}
.unit.enemy { background: linear-gradient(145deg, rgba(220,94,130,.3), rgba(150,60,89,.2)); }
.unit.selected { outline: 2px solid var(--accent); }
.unit .name { font-weight: 700; font-size: 12px; }
.unit .meta { color: #b4c2e8; font-size: 11px; }
.hp-bar {
  width: 100%; height: 6px; border-radius: 999px; overflow: hidden; background: rgba(0,0,0,.25); margin-top: 3px;
}
.hp-fill { height: 100%; background: linear-gradient(90deg, #5be37d, #9effa7); }
.unit.hit { animation: hit .2s linear 1; }
@keyframes hit { 0%{filter:brightness(1);} 50%{filter:brightness(1.9);} 100%{filter:brightness(1);} }

.synergy-list { display: grid; gap: 8px; }
.synergy-item { background: rgba(255,255,255,.04); border-radius: 10px; padding: 8px; font-size: 13px; }
.synergy-item.active { border: 1px solid var(--ok); }
.unit-detail { min-height: 96px; background: rgba(255,255,255,.04); border-radius: 10px; padding: 8px; color: var(--muted); }
.log-panel { max-height: 180px; overflow: auto; background: rgba(0,0,0,.18); border-radius: 10px; padding: 8px; font-size: 12px; color: #bdd1ff; }
.log-panel p { margin: 4px 0; }
.shop-header { display: flex; justify-content: space-between; align-items: center; }
.shop-grid { display: grid; grid-template-columns: repeat(5, minmax(120px, 1fr)); gap: 8px; }
.shop-card {
  background: rgba(255,255,255,.05);
  border: 1px solid rgba(255,255,255,.15);
  border-radius: 12px;
  padding: 8px;
  cursor: pointer;
  transition: .2s;
}
.shop-card:hover { border-color: var(--gold); transform: translateY(-2px); }
.shop-card .cost { color: var(--gold); font-weight: 700; }
.hint { color: var(--muted); font-size: 12px; margin-top: 8px; }

@media (max-width: 980px) {
  .layout { grid-template-columns: 1fr; }
  .shop-grid { grid-template-columns: repeat(2, minmax(120px, 1fr)); }
  .bench-grid { grid-template-columns: repeat(4, minmax(80px, 1fr)); }
  .stats { grid-template-columns: repeat(3, minmax(90px, 1fr)); }
}
